(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b6d"],{"7BZF":function(e,t,n){"use strict";var o=n("deTw");n.n(o).a},ZfBD:function(e,t,n){"use strict";n.r(t);var o=n("glbJ"),i=n("DSeF"),r=n("dE+M"),s=n("sUWX"),a=n("4N7J"),l={name:"ToViewArticle",components:{Tinymce:o.default,previewDialog:i.a,coverCrop:r.a,twoCover:s.a,threeCover:a.a},props:{source:{type:String},advIdArr:{type:Array},tagidArr:{type:Array}},data:function(){return{labelPosition:"left",visible:!1,fromMenu:{type:Object}}},computed:{imageUrl:function(){if(this.fromMenu.bannerPic){var e=this.fromMenu.bannerPic;if(this.bannerPic=e,e.length)return e[e.length-1]}},imageUrl1:function(){if(this.fromMenu.covermaps){var e=this.fromMenu.covermaps;if(this.coverArr=e,e.length)return e[0]}},imageUrl2:function(){if(this.fromMenu.covermaps){var e=this.fromMenu.covermaps;if(this.coverArr=e,e.length>1)return e[1]}},imageUrl3:function(){if(this.fromMenu.covermaps){var e=this.fromMenu.covermaps;if(this.coverArr=e,e.length>1)return e[2]}},tag:function(){return"edit"==this.source?(console.log(this.fromMenu),this.tagids=this.fromMenu.tagids,this.fromMenu.tagids):[]}},watch:{fromMenu:{handler:function(e,t){console.log(e,t)},deep:!0},layout:function(e){2==e&&(this.fromMenu.covermaps=[])}},updated:function(){for(var e=document.getElementsByTagName("img"),t=e.length,n=0;n<t;n++){e[n].style.width="100%"}},created:function(){this.getTagList()},mounted:function(){this.fromMenu=this.$route.query.row},methods:{goAdListFn:function(){this.$router.push("/advManager/advList")},uploadFileFn1:function(e){2!==this.fromMenu.layout&&this.coverArr.push(e)},uploadFileFn2:function(e){3==this.fromMenu.layout&&this.coverArr.push(e)},uploadFileFn3:function(e){3==this.fromMenu.layout&&this.coverArr.push(e)},previewArticleFn:function(){this.visible=!0},changeRadio:function(e){},checkFn:function(e){},selectFn:function(e){console.log(e)},addArticleFn:function(){this.fromMenu.tagids=this.tagids;var e=[];0!=this.fromMenu.layout&&1!=this.fromMenu.layout||(console.log(this.coverArr),e=this.coverArr.slice(-1),console.log(console.log(this.coverArr))),3==this.fromMenu.layout&&(e=this.coverArr.splice(-3)),this.fromMenu.covermaps=e,this.$emit("upDateFrom",this.fromMenu)},startDateFn:function(e){this.fromMenu.opentime=e},endDateFn:function(e){this.fromMenu.deadline=e},getTagList:function(){var e=this;this.$req.get("v2/shareCategory/1/999").then(function(t){e.tagList=t.data.data.records}).catch(function(e){console.log(e)})}}},u=(n("7BZF"),n("KHd+")),c=Object(u.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{staticClass:"top-box"},[n("div",{staticClass:"left"},[n("el-form",{attrs:{"label-position":e.labelPosition,model:e.fromMenu,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"文章标题："}},[n("el-input",{model:{value:e.fromMenu.title,callback:function(t){e.$set(e.fromMenu,"title",t)},expression:"fromMenu.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"发 布 人："}},[n("el-input",{model:{value:e.fromMenu.issuedBy,callback:function(t){e.$set(e.fromMenu,"issuedBy",t)},expression:"fromMenu.issuedBy"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"发布日期："}},[n("el-input",{model:{value:e.fromMenu.date,callback:function(t){e.$set(e.fromMenu,"date",t)},expression:"fromMenu.date"}})],1)],1)],1)]),e._v(" "),n("Tinymce",{model:{value:e.fromMenu.content,callback:function(t){e.$set(e.fromMenu,"content",t)},expression:"fromMenu.content"}}),e._v(" "),n("previewDialog",{attrs:{"is-show":e.visible,title:"预览"},on:{cancelFn:function(t){e.visible=!1},confirmFn:function(t){e.visible=!1}}},[n("section",{staticClass:"previewContent",domProps:{innerHTML:e._s(e.fromMenu.content)}})]),e._v(" "),n("section",{staticClass:"coverimgBox"},[0==e.fromMenu.layout||1==e.fromMenu.layout?n("coverCrop",{attrs:{"image-url":e.imageUrl},on:{uploadFileFn:e.uploadFileFn1}}):e._e(),e._v(" "),3==e.fromMenu.layout?n("coverCrop",{attrs:{"image-url":e.imageUrl1},on:{uploadFileFn:e.uploadFileFn1}}):e._e(),e._v(" "),3==e.fromMenu.layout?n("twoCover",{attrs:{"image-url":e.imageUrl2},on:{uploadFileFn:e.uploadFileFn2}}):e._e(),e._v(" "),3==e.fromMenu.layout?n("threeCover",{attrs:{"image-url":e.imageUrl3},on:{uploadFileFn:e.uploadFileFn3}}):e._e()],1),e._v(" "),n("el-row",{staticClass:"btn-box"},[n("el-button",{attrs:{type:"warning"},on:{click:e.previewArticleFn}},[e._v("预览")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addArticleFn}},[e._v("发布")])],1)],1)},[],!1,null,null,null);c.options.__file="index.vue";t.default=c.exports},deTw:function(e,t,n){}}]);