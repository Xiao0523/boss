(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d0af"],{"4mum":function(t,n,r){},IH4l:function(t,n,r){"use strict";r.r(n);var e=r("P2sY"),a=r.n(e),u=r("Zw5r"),o={name:"cardGroupList",data:function(){return{cardGroupArr:[],tabHeader:{"background-color":"#F4F4F4",color:"#666666","border-top":"1px solid #BBBBBB","border-bottom":"1px solid #BBBBBB","font-size":"16px","text-align":"center"}}},filters:{formatTypw:function(t){var n={0:"新手",1:"普通"};return n[t]?n[t]:"未知"},formatStatus:function(t){var n={0:"未上架",1:"已上架"};return n[t]?n[t]:"未知"}},methods:{addCardGroup:function(){this.$router.push({name:"cardGroupAdd"})},navToCard:function(t,n){this.$router.push({name:"card",query:{cardGroupId:n.id,status:n.status,num:n.num}})},edit:function(t,n){var r=this;if(1==n.status)return this.$wran("该卡片组已上架！");Object(u.f)(n.id).then(function(e){if(e.data.code)return r.$wran(e.data.message);r.$success("操作成功！");var u=a()(n,{status:1});r.$set(r.cardGroupArr,t,u)}).catch(function(t){})},del:function(t,n){var r=this;if(1==n.status)return this.$wran("该卡片组已上架, 不可删除！");this.$confirm("确定要删除"+n.name+"卡片组吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.b)(n.id).then(function(n){if(n.data.code)return r.$wran(n.data.message);r.$success("操作成功！"),r.cardGroupArr.splice(t,1)}).catch(function(t){})}).catch(function(t){})}},created:function(){var t=this;Object(u.d)().then(function(n){n.data.data.code||n.data.data&&n.data.data.length&&(t.cardGroupArr=n.data.data)}).catch(function(t){})}},c=(r("ZvaE"),r("KHd+")),i=Object(c.a)(o,function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("el-row",[r("el-button",{attrs:{type:"primary"},on:{click:t.addCardGroup}},[t._v("新增卡片组")])],1),t._v(" "),r("el-table",{staticClass:"table-box",attrs:{border:"",data:t.cardGroupArr,"header-cell-style":t.tabHeader}},[r("el-table-column",{attrs:{align:"center",label:"#",type:"index",prop:"index"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"卡片组名称",prop:"name"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"卡片组类型",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n        "+t._s(t._f("formatTypw")(n.row.type))+"\n      ")]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"卡片数量",prop:"num"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"卡片组状态",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n        "+t._s(t._f("formatStatus")(n.row.status))+"\n      ")]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(n){return[r("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(r){t.navToCard(n.$index,n.row)}}},[t._v("卡片管理")]),t._v(" "),n.row.status?t._e():r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){t.edit(n.$index,n.row)}}},[t._v("上架")]),t._v(" "),n.row.status?t._e():r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){t.del(n.$index,n.row)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"15585827",null);i.options.__file="index.vue";n.default=i.exports},ZvaE:function(t,n,r){"use strict";var e=r("4mum");r.n(e).a},Zw5r:function(t,n,r){"use strict";r.d(n,"d",function(){return a}),r.d(n,"h",function(){return u}),r.d(n,"b",function(){return o}),r.d(n,"f",function(){return c}),r.d(n,"c",function(){return i}),r.d(n,"g",function(){return d}),r.d(n,"e",function(){return s}),r.d(n,"a",function(){return l});var e=r("+WsE");function a(){return e.a.get("cardGroup")}function u(t){return e.a.post("cardGroup",t)}function o(t){return e.a.del2("cardGroup",{cardGroupId:t})}function c(t){return e.a.patch("cardGroup",{cardGroupId:t})}function i(t){return e.a.get("card/"+t)}function d(t){return e.a.post("card",t)}function s(t){return e.a.patch("card",t)}function l(t){return e.a.del2("card",{cardId:t})}}}]);