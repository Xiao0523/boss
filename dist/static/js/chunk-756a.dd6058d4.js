(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-756a"],{"+5uW":function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return s}),r.d(t,"g",function(){return i}),r.d(t,"a",function(){return u}),r.d(t,"f",function(){return c}),r.d(t,"c",function(){return l});var n=r("+WsE");function a(e){return n.a.post("waimaoshuishou/person/suppliers",e)}function o(e){return n.a.post("waimaoshuishou/person/supplier",e)}function s(e){var t=e.uuid;return n.a.get("waimaoshuishou/person/supplier/"+t)}function i(e){return n.a.post("waimaoshuishou/person/categories",e)}function u(e){return n.a.post("waimaoshuishou/person/category/product",e)}function c(){return n.a.get("waimaoshuishou/person/tags")}function l(e){return n.a.post("waimaoshuishou/person/tag/product",e)}},"7jfb":function(e,t,r){},SMMm:function(e,t,r){"use strict";var n=r("Uwh3"),a={props:{currentPage:{type:Number},pageSizes:{type:Array,default:function(){return[]}},pageSize:{type:Number},total:{type:Number}},components:{},data:function(){return{isShow:!1}},watch:{total:function(e){console.log("total",e),0!=e&&(this.isShow=!0)}},methods:{handleSizeChange:function(e){Object(n.c)("currentSize",e);var t=Object(n.b)("currentSize");this.$emit("sizeChange",t)},handleCurrentChange:function(e){Object(n.c)("currentPage",e);var t=Object(n.b)("currentPage");this.$emit("currentChange",t)}},mounted:function(){},updated:function(){console.log("分页组件",this.currentPage),console.log("分页组件",this.pageSize)},created:function(){}},o=(r("jTOu"),r("KHd+")),s=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pageBox"},[this.isShow?t("el-pagination",{attrs:{"current-page":this.currentPage,pageSizes:[5,10,50,100,200,300,400,500],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}}):this._e()],1)},[],!1,null,"63f271cb",null);s.options.__file="index.vue";t.a=s.exports},bUuW:function(e,t,r){"use strict";var n=r("hAj4");r.n(n).a},"f1+9":function(e,t,r){"use strict";r.r(t);var n=r("+5uW"),a={components:{pageNum:r("SMMm").a},data:function(){return{tabHeader:{"background-color":"#F4F4F4",color:"#666666","border-top":"1px solid #BBBBBB","border-bottom":"1px solid #BBBBBB","font-size":"16px","text-align":"center"},categoryList:[],operationType:"添加标签",isShow:!1,rules:{nameCn:[{required:!0,message:"请输入标签名称",trigger:"blur"}],nameEn:[{required:!0,message:"请输入英文名称",trigger:"blur"}],orderIndex:[{required:!0,message:"请输入排序",trigger:"blur"}],status:[{required:!0,message:"请选择标签状态",trigger:"change"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"},{min:5,message:"长度不少于5个字符",trigger:"blur"}]},form:{nameCn:"",nameEn:"",status:1,orderIndex:"",remark:"",uuid:"",operator:"",createTime:""}}},computed:{},watch:{},created:function(){},mounted:function(){this.fetchCategory()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{search:function(e){this.fetchCategory()},fetchCategory:function(){var e=this;Object(n.f)().then(function(t){if(t.data.code)return t.data.message&&e.$wran(t.data.message);e.categoryList=t.data.data})},edit:function(e){this.isShow=!0,this.form=e,this.operationType="编辑标签","1"===e.status?this.form.status=1:this.form.status=0},addCategory:function(){this.isShow=!0,this.form={nameCn:"",nameEn:"",status:1,orderIndex:"",remark:"",uuid:"",operator:"",createTime:""}},close:function(e){this.$refs[e].resetFields(),this.isShow=!1,this.fetchCategory()},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e||t.$wran("请先检查数据是否全部填写")}),Object(n.c)(this.form).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);t.$success("编辑成功"),t.close("form"),t.fetchCategory()})},enable:function(e){var t=this;e.status=1,Object(n.c)(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);t.$success(e.data.message),t.fetchCategory()})},disable:function(e){var t=this;e.status=0,Object(n.c)(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);t.$success(e.data.message),t.fetchCategory()})}}},o=(r("bUuW"),r("KHd+")),s=Object(o.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{inline:!0,model:e.ruleForm,"label-position":"right"}},[r("el-form-item",[r("el-button",{attrs:{type:"success"},on:{click:e.addCategory}},[e._v("新增标签")])],1)],1),e._v(" "),r("el-table",{staticClass:"table-box",attrs:{data:e.categoryList,"header-cell-style":e.tabHeader,border:""}},[r("el-table-column",{attrs:{align:"center",prop:"orderIndex",label:"排序"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"nameCn",label:"标签名称"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"nameEn",label:"英文名称"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"0"===t.row.status?"warning":"success","disable-transitions":""}},[e._v(e._s("0"===t.row.status?"禁用":"启用"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.edit(t.row)}}},[e._v("编辑")]),e._v(" "),"0"===t.row.status?r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(r){e.enable(t.row)}}},[e._v("启用")]):e._e(),e._v(" "),"1"===t.row.status?r("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(r){e.disable(t.row)}}},[e._v("禁用")]):e._e()]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:e.operationType,visible:e.isShow,width:"30%"},on:{"update:visible":function(t){e.isShow=t}}},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-position":"left"}},[r("el-form-item",{attrs:{label:"标签名称",prop:"nameCn"}},[r("el-input",{attrs:{placeholder:"请输入标签名称"},model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}}),e._v(" "),r("el-input",{staticStyle:{display:"none"},model:{value:e.form.uuid,callback:function(t){e.$set(e.form,"uuid",t)},expression:"form.uuid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"英文名称",prop:"nameEn"}},[r("el-input",{attrs:{placeholder:"请输入英文名称"},model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序",prop:"orderIndex"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入排序"},model:{value:e.form.orderIndex,callback:function(t){e.$set(e.form,"orderIndex",t)},expression:"form.orderIndex"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"标签状态",prop:"status"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入至少5个字符"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.close("form")}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交")])],1)],1)],1)},[],!1,null,"62c4528e",null);s.options.__file="index.vue";t.default=s.exports},hAj4:function(e,t,r){},jTOu:function(e,t,r){"use strict";var n=r("7jfb");r.n(n).a}}]);