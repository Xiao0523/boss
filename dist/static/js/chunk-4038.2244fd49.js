(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4038"],{DxEH:function(t,e,a){"use strict";var i=a("YDJ4");a.n(i).a},YDJ4:function(t,e,a){},Yded:function(t,e,a){var i=a("621g"),r=a("bmAa");t.exports=a("c01Q").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},gYwR:function(t,e,a){"use strict";a.r(e);var i=a("rerW"),r=a.n(i),s=a("+WsE");var o=a("u8Kd"),n={name:"Verson",data:function(){return{form:{},selectList:[],radio:"version_ios",dataList:[],fileList:[],fileUpload:o.b}},watch:{dataList:function(){this.form=this.selectData(this.radio,this.dataList)},radio:{handler:function(t,e){this.saveEditObj(e),this.form=this.selectData(this.radio,this.dataList)}}},mounted:function(){this.getViews()},methods:{getViews:function(){var t=this;(function(t){return s.a.get("training/version",t)})().then(function(e){if(e.data.code)return e.data.message&&t.$warn(e.data.message);t.dataList=e.data.data||[]})},selectData:function(t,e){var a=!0,i=!1,s=void 0;try{for(var o,n=r()(e);!(a=(o=n.next()).done);a=!0){var l=o.value;if(l.key===t)return"version_android"===t&&(this.fileList=[{name:"lanqing"+this.form.value+".apk",url:l.apkDownloadUrl}]),l}}catch(t){i=!0,s=t}finally{try{!a&&n.return&&n.return()}finally{if(i)throw s}}},saveEditObj:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.radio;for(var e in this.dataList)if(this.dataList[e].key===t){this.dataList.splice(e,1,this.form);break}},handleRemove:function(t,e){if("success"!==t.status)return this.$warn("删除失败");this.$success("删除成功！！！"),this.form.apkDownloadUrl="",this.fileLst=[]},handleSuccess:function(t,e){if(t.code)return t.message&&this.$warn(t.message);this.fileList=[{name:"lanqing"+this.form.value+".apk",url:t.data}],this.form.apkDownloadUrl=t.data,this.$success("上传成功！！！")},onSubmit:function(){var t=this;this.saveEditObj(),function(t){return s.a.post("training/version",t)}({versions:this.dataList}).then(function(e){if(e.data.code)return e.data.message&&t.$warn(e.data.message);t.$success(e.data.message),t.getViews()})}}},l=(a("DxEH"),a("ZrdR")),d=Object(l.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"noveForm",staticClass:"novel",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"系统"}},[a("el-radio",{attrs:{label:"version_ios"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("IOS")]),t._v(" "),a("el-radio",{attrs:{label:"version_android"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("安卓")])],1),t._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"扩展信息"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:"4"},model:{value:t.form.extendInfo,callback:function(e){t.$set(t.form,"extendInfo",e)},expression:"form.extendInfo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"App版本号"}},[a("el-input",{model:{value:t.form.versionNum,callback:function(e){t.$set(t.form,"versionNum",e)},expression:"form.versionNum"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"version_android"===t.radio,expression:"radio === 'version_android'"}],attrs:{label:"Apk下载地址"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.apkDownloadUrl,callback:function(e){t.$set(t.form,"apkDownloadUrl",e)},expression:"form.apkDownloadUrl"}}),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":t.handleSuccess,"file-list":t.fileList,action:t.fileUpload,"on-remove":t.handleRemove,name:"multipartFile"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")])],1)],1)],1)},[],!1,null,"701eb03a",null);d.options.__file="index.vue";e.default=d.exports},"qV/K":function(t,e,a){a("Tpec"),a("Urde"),t.exports=a("Yded")},rerW:function(t,e,a){t.exports={default:a("qV/K"),__esModule:!0}},u8Kd:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i="https://upload.my51share.com/pic",r="https://upload.my51share.com/file"}}]);