(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d92"],{"7Csv":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return s});var a=n("+WsE");function i(t){var e=t.status,n=void 0===e?0:e,i=t.pageNum,r=void 0===i?1:i,o=t.pageSize,l=void 0===o?10:o;return a.a.get("training/trainingTalentShow/list/"+n+"/"+r+"/"+l)}function r(t){return a.a.post("training/trainingTalentShow/add",t)}function o(t){var e=t.id;return a.a.get("training/trainingTalentShow/detail/"+e)}function l(t){return a.a.post("training/trainingTalentShow/edit",t)}function s(t){var e=t.id;return a.a.del("training/trainingTalentShow/delete/"+e)}},EEiy:function(t,e,n){},FyfS:function(t,e,n){t.exports={default:n("Rp86"),__esModule:!0}},"RU/L":function(t,e,n){n("Rqdy");var a=n("WEpk").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},Rp86:function(t,e,n){n("bBy9"),n("FlQf"),t.exports=n("fXsU")},Rqdy:function(t,e,n){var a=n("Y7ZC");a(a.S+a.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},SEkw:function(t,e,n){t.exports={default:n("RU/L"),__esModule:!0}},SMMm:function(t,e,n){"use strict";var a=n("Uwh3"),i={props:{currentPage:{type:Number},pageSizes:{type:Array,default:function(){return[]}},pageSize:{type:Number},total:{type:Number}},components:{},data:function(){return{isShow:!1}},watch:{total:function(t){console.log("total",t),0!=t&&(this.isShow=!0)}},methods:{handleSizeChange:function(t){Object(a.c)("currentSize",t);var e=Object(a.b)("currentSize");this.$emit("sizeChange",e)},handleCurrentChange:function(t){Object(a.c)("currentPage",t);var e=Object(a.b)("currentPage");this.$emit("currentChange",e)}},mounted:function(){},updated:function(){console.log("分页组件",this.currentPage),console.log("分页组件",this.pageSize)},created:function(){}},r=(n("XCpr"),n("KHd+")),o=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pageBox"},[this.isShow?e("el-pagination",{attrs:{"current-page":this.currentPage,pageSizes:[10,50,100,200,300,400,500],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}}):this._e()],1)},[],!1,null,"21d651f8",null);o.options.__file="index.vue";e.a=o.exports},Sbcu:function(t,e,n){},XCpr:function(t,e,n){"use strict";var a=n("EEiy");n.n(a).a},YEIV:function(t,e,n){"use strict";e.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(n("SEkw"));e.default=function(t,e,n){return e in t?(0,a.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},fXsU:function(t,e,n){var a=n("5K7Z"),i=n("fNZA");t.exports=n("WEpk").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},uSQe:function(t,e,n){"use strict";var a=n("Sbcu");n.n(a).a},z3M4:function(t,e,n){"use strict";n.r(e);var a,i=n("YEIV"),r=n.n(i),o=n("FyfS"),l=n.n(o),s=n("7Csv"),u={name:"Competition",components:{pageNum:n("SMMm").a},data:function(){return{dialogVisible:!1,list:[],options:[{value:0,label:"全部"},{value:1,label:"进行中"},{value:2,label:"结束"}],status:0,selectVal:"全部",totalNum:null,pageNo:1,pageSize:10,tabHeader:{"background-color":"#F4F4F4",color:"#666666","border-top":"1px solid #BBBBBB","border-bottom":"1px solid #BBBBBB","font-size":"16px","text-align":"center"}}},filters:{statusStr:function(t){return 0==t?"未开始":1==t?"进行中":2==t?"已结束":"已取消"}},mounted:function(){this.fetchList()},methods:(a={selectChange:function(){var t=!0,e=!1,n=void 0;try{for(var a,i=l()(this.options);!(t=(a=i.next()).done);t=!0){var r=a.value;if(r.label===this.selectVal)return this.status=r.value,void this.fetchList()}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}},sizeChangeFn:function(t){this.pageSize=t,this.fetchList()},currentPageChange:function(t){this.pageNo=t,this.fetchList()},onDel:function(t){var e=this,n={id:t};Object(s.b)(n).then(function(t){if(t.data.code)return t.data.message&&e.$wran(t.data.message);e.fetchList()})},fetchList:function(){var t=this,e={status:this.status,pageNum:this.pageNo,pageSize:this.pageSize||10};Object(s.e)(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);if(e.data.data){var n=e.data.data;t.totalNum=n.total;var a=n.records;t.list=a&&a.length?a:[]}})}},r()(a,"sizeChangeFn",function(t){this.pageSize=t,this.fetchList()}),r()(a,"currentPageChange",function(t){this.pageNo=t,this.fetchList()}),r()(a,"handleClose",function(){}),a)},c=(n("uSQe"),n("KHd+")),f=Object(c.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:{name:"ShowEdit"}}},[n("el-button",{attrs:{type:"info"}},[t._v("发布才艺秀比赛")])],1),t._v(" "),n("el-select",{on:{change:t.selectChange},model:{value:t.selectVal,callback:function(e){t.selectVal=e},expression:"selectVal"}},t._l(t.options,function(e){return n("el-option",{key:e.value,attrs:{value:e.label,label:e.label}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),t._v(" "),n("el-table",{staticClass:"table-box",attrs:{data:t.list,"header-cell-style":t.tabHeader,border:""}},[n("el-table-column",{attrs:{align:"center",prop:"id",label:"才艺秀编号"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"participants",label:"参与人数"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"封面图"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",{staticClass:"coverImg"},[n("img",{attrs:{src:t.row.picCover,alt:""}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"活动状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("statusStr")(e.row.status))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"reward",label:"奖励"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"votes",label:"点赞数"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"beginTime",label:"起始日期"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"endTime",label:"结束日期"}}),t._v(" "),n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:{name:"ShowEdit",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("编辑")])],1),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){t.onDel(e.row.id)}}},[t._v("关闭")]),t._v(" "),n("router-link",{attrs:{to:{name:"CompositionList",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("作品列表")])],1),t._v(" "),n("router-link",{attrs:{to:{name:"RewardList",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("奖励列表")])],1)]}}])})],1),t._v(" "),n("div",{staticClass:"pageNumBox"},[n("pageNum",{attrs:{"current-page":t.pageNo,"page-size":t.pageSize,total:t.totalNum},on:{sizeChange:t.sizeChangeFn,currentChange:t.currentPageChange}})],1)],1)},[],!1,null,"592165d0",null);f.options.__file="index.vue";e.default=f.exports}}]);