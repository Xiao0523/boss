(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6fd3"],{"/V+u":function(t,e,i){},"0tVQ":function(t,e,i){i("FlQf"),i("VJsP"),t.exports=i("WEpk").Array.from},"7Csv":function(t,e,i){"use strict";i.d(e,"e",function(){return s}),i.d(e,"a",function(){return o}),i.d(e,"d",function(){return n}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return l});var a=i("+WsE");function s(t){var e=t.status,i=void 0===e?0:e,s=t.pageNum,o=void 0===s?1:s,n=t.pageSize,r=void 0===n?10:n;return a.a.get("training/trainingTalentShow/list/"+i+"/"+o+"/"+r)}function o(t){return a.a.post("training/trainingTalentShow/add",t)}function n(t){var e=t.id;return a.a.get("training/trainingTalentShow/detail/"+e)}function r(t){return a.a.post("training/trainingTalentShow/edit",t)}function l(t){var e=t.id;return a.a.del("training/trainingTalentShow/delete/"+e)}},AXrc:function(t,e,i){"use strict";var a=i("U5us");i.n(a).a},IP1Z:function(t,e,i){"use strict";var a=i("2faE"),s=i("rr1i");t.exports=function(t,e,i){e in t?a.f(t,e,s(0,i)):t[e]=i}},U5us:function(t,e,i){},VJsP:function(t,e,i){"use strict";var a=i("2GTP"),s=i("Y7ZC"),o=i("JB68"),n=i("sNwI"),r=i("NwJ3"),l=i("tEej"),c=i("IP1Z"),u=i("fNZA");s(s.S+s.F*!i("TuGD")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,d,p=o(t),m="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,g=void 0!==v,h=0,b=u(p);if(g&&(v=a(v,f>2?arguments[2]:void 0,2)),void 0==b||m==Array&&r(b))for(i=new m(e=l(p.length));e>h;h++)c(i,h,g?v(p[h],h):p[h]);else for(d=b.call(p),i=new m;!(s=d.next()).done;h++)c(i,h,g?n(d,v,[s.value,h],!0):s.value);return i.length=h,i}})},pCBm:function(t,e,i){"use strict";var a=i("wW48");i.n(a).a},pXFI:function(t,e,i){"use strict";i.r(e);var a=i("gDS+"),s=i.n(a),o=i("7Csv"),n=i("xGbm"),r=i("u8Kd"),l={props:{list:{type:Object,default:function(){return{}}},indexs:{type:Number,default:function(){return 0}}},data:function(){return{UploadUrl:r.a,listPic:{}}},watch:{list:function(){this.listPic=this.list}},created:function(){this.listPic=this.list},methods:{handleAvatarLogsSuccess:function(t,e){this.listPic.picUrl=t.data,this.backLog()},backLog:function(){this.$emit("handelLogsClick",this.listPic,this.indexs)},del:function(){this.$emit("handelLogsDel",this.indexs)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;return e||this.$message.error("请上传JPG/PNG格式的图片"),e}}},c=(i("AXrc"),i("KHd+")),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarLogsSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.list.picUrl?i("img",{staticClass:"avatar",attrs:{src:t.list.picUrl}}):i("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),i("el-input",{staticClass:"inputs",attrs:{type:"text"},on:{blur:t.backLog},model:{value:t.list.logoName,callback:function(e){t.$set(t.list,"logoName",e)},expression:"list.logoName"}}),t._v(" "),i("div",{staticClass:"close",on:{click:t.del}},[i("i",{staticClass:"el-icon-close"})]),t._v(" "),i("input",{attrs:{type:"hidden"}})],1)},[],!1,null,"04439717",null);u.options.__file="index.vue";var d=u.exports,p={props:{list:{type:Object,default:function(){return{}}},indexs:{type:Number,default:function(){return 0}}},data:function(){return{UploadUrl:r.a,listPic:{}}},watch:{list:function(){this.listPic=this.list}},created:function(){this.listPic=this.list},methods:{handleAvatarLogsSuccess:function(t,e){this.listPic.cover=t.data,this.backLog()},backLog:function(){this.$emit("handelLogsClickVote",this.listPic,this.indexs)},del:function(){this.$emit("handelLogsDelVote",this.indexs)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;return e||this.$message.error("请上传JPG/PNG格式的图片"),e}}},m=(i("pCBm"),Object(c.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"tabel-flex"},[i("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarLogsSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.list.cover?i("img",{staticClass:"avatar",attrs:{src:t.list.cover}}):i("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"获奖名次"},on:{blur:t.backLog},model:{value:t.list.level,callback:function(e){t.$set(t.list,"level",e)},expression:"list.level"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"奖品名称"},on:{blur:t.backLog},model:{value:t.list.name,callback:function(e){t.$set(t.list,"name",e)},expression:"list.name"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"奖品原价"},on:{blur:t.backLog},model:{value:t.list.price,callback:function(e){t.$set(t.list,"price",e)},expression:"list.price"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"获奖个数"},on:{blur:t.backLog},model:{value:t.list.amount,callback:function(e){t.$set(t.list,"amount",t._n(e))},expression:"list.amount"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"排序"},on:{blur:t.backLog},model:{value:t.list.orderIndex,callback:function(e){t.$set(t.list,"orderIndex",t._n(e))},expression:"list.orderIndex"}})],1)],1),t._v(" "),i("div",{staticClass:"close",on:{click:t.del}},[i("i",{staticClass:"el-icon-close"})])])},[],!1,null,null,null));m.options.__file="index.vue";var f={name:"ShowEdit",components:{logosImg:d,gift:m.exports},data:function(){return{UploadUrl:r.a,time:"",voteTime:"",visible:!1,form:{name:"",picCover:"",picIntroduce:"",rule:"",slogan:"",solicitationBeginTime:"",solicitationEndTime:"",voteBeginTime:"",voteEndTime:"",logs:[{type:"6",picUrl:"",logoName:""}],prizes4Luck:[{cover:"",level:"",name:"",orderIndex:0,price:"",ranks:[""],amount:"",type:1}],prizes4Rank:[{amount:"",cover:"",level:"",name:"",orderIndex:"",price:"",type:0}]},isAdd:!0}},watch:{time:function(){var t=this.time;this.form.solicitationBeginTime=Object(n.a)(t[0].getTime()),this.form.solicitationEndTime=Object(n.a)(t[1].getTime())},voteTime:function(){var t=this.voteTime;this.form.voteBeginTime=Object(n.a)(t[0].getTime()),this.form.voteEndTime=Object(n.a)(t[1].getTime())}},created:function(){var t=this,e=this.$route.query.id;if(e){this.isAdd=!1;var i={id:e};Object(o.d)(i).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);if(e.data.data){var i=e.data.data;t.form=i,t.form.prizes4Luck[0].ranks=i.prizes4Luck[0].ranks.split(","),t.time=[new Date(i.solicitationBeginTime),new Date(i.solicitationEndTime)],t.voteTime=[new Date(i.voteBeginTime),new Date(i.voteEndTime)]}})}},methods:{handleAvatarGiftSuccess:function(t,e){this.form.prizes4Luck[0].cover=t.data},delCb:function(t){this.form.logs.splice(t,1)},logsCb:function(t,e){this.form.logs[e]=t},delCbVote:function(t){this.form.prizes4Rank.splice(t,1)},logsCbVote:function(t,e){this.form.prizes4Rank[e]=t},addList:function(t){t&&"vote"===t?this.form.prizes4Rank.push({amount:"",cover:"",level:"",name:"",orderIndex:"",price:"",type:0}):t&&"luck"===t?this.form.prizes4Luck[0].ranks.push(""):this.form.logs.push({type:"6",picUrl:"",logoName:""})},handleAvatarSuccess:function(t,e){this.form.picCover=t.data},handleAvatarPrizesSuccess:function(t,e){this.form.prizes[0].picUrl=t.data},handleAvatarLogsSuccess:function(t,e){this.form.logs[0].picUrl=t.data},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;return e||this.$message.error("请上传JPG/PNG格式的图片"),e},onSubmit:function(){var t=this,e=JSON.parse(s()(this.form)),i=this.isAdd?o.a:o.c;this.isAdd||(e.id=this.$route.query.id),e.prizes4Luck[0].ranks=e.prizes4Luck[0].ranks.join(","),i(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);e.data.data&&t.$router.push({name:"Show"})})}}},v=(i("rvSL"),Object(c.a)(f,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{ref:"noveForm",staticClass:"novel",attrs:{model:t.form,"label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"才艺秀名称",prop:"name"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"作品征集时间",prop:"time"}},[i("el-date-picker",{attrs:{"default-time":["12:00:00","08:00:00"],type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"投票时间",prop:"voteTime"}},[i("el-date-picker",{attrs:{"default-time":["12:00:00","08:00:00"],type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.voteTime,callback:function(e){t.voteTime=e},expression:"voteTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"才艺秀封面"}},[i("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.form.picCover?i("img",{staticClass:"avatar",attrs:{src:t.form.picCover}}):i("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),i("input",{attrs:{type:"hidden"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"赞助商图标"}},[i("div",{staticClass:"logosFlex"},[t._l(t.form.logs.length,function(e,a){return i("logosImg",{key:a,attrs:{list:t.form.logs[e-1],indexs:e-1},on:{handelLogsClick:t.logsCb,handelLogsDel:t.delCb}})}),t._v(" "),i("div",{staticClass:"add",on:{click:t.addList}},[i("i",{staticClass:"el-icon-plus"})])],2)]),t._v(" "),i("el-form-item",{attrs:{label:"奖品信息"}},[i("div",{staticClass:"boxWidth"},[i("div",{staticClass:"logosFlex row"},t._l(t.form.prizes4Rank.length,function(e,a){return i("gift",{key:a,attrs:{list:t.form.prizes4Rank[e-1],indexs:e-1},on:{handelLogsClickVote:t.logsCbVote,handelLogsDelVote:t.delCbVote}})})),t._v(" "),i("div",{staticClass:"add gift-add",on:{click:function(e){t.addList("vote")}}},[i("i",{staticClass:"el-icon-plus"})])])]),t._v(" "),i("el-form-item",{staticClass:"gift",attrs:{label:"幸运奖"}},[i("div",{staticClass:"luck-gift"},[t._l(t.form.prizes4Luck[0].ranks,function(e,a){return i("el-input",{key:a,model:{value:t.form.prizes4Luck[0].ranks[a],callback:function(e){t.$set(t.form.prizes4Luck[0].ranks,a,e)},expression:"form.prizes4Luck[0].ranks[index]"}})}),t._v(" "),i("div",{staticClass:"add",on:{click:function(e){t.addList("luck")}}},[i("i",{staticClass:"el-icon-plus"})])],2)]),t._v(" "),i("el-form-item",{attrs:{label:"幸运奖信息"}},[i("div",{staticClass:"boxWidth"},[i("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarGiftSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.form.prizes4Luck[0].cover?i("img",{staticClass:"avatar",attrs:{src:t.form.prizes4Luck[0].cover}}):i("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"奖品名称"},model:{value:t.form.prizes4Luck[0].name,callback:function(e){t.$set(t.form.prizes4Luck[0],"name",e)},expression:"form.prizes4Luck[0].name"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"奖品原价"},model:{value:t.form.prizes4Luck[0].price,callback:function(e){t.$set(t.form.prizes4Luck[0],"price",e)},expression:"form.prizes4Luck[0].price"}})],1),t._v(" "),i("div",{staticClass:"input-box"},[i("el-input",{staticClass:"inputs",attrs:{type:"text",placeholder:"获奖个数"},model:{value:t.form.prizes4Luck[0].amount,callback:function(e){t.$set(t.form.prizes4Luck[0],"amount",t._n(e))},expression:"form.prizes4Luck[0].amount"}})],1)],1)]),t._v(" "),i("el-form-item",{attrs:{label:"才艺秀介绍"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.picIntroduce,expression:"form.picIntroduce"}],attrs:{resize:"none"},domProps:{value:t.form.picIntroduce},on:{input:function(e){e.target.composing||t.$set(t.form,"picIntroduce",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"才艺秀规则",prop:"name"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.rule,expression:"form.rule"}],domProps:{value:t.form.rule},on:{input:function(e){e.target.composing||t.$set(t.form,"rule",e.target.value)}}})]),t._v(" "),i("el-form-item",{attrs:{label:"才艺秀标语",prop:"name"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.slogan,expression:"form.slogan"}],domProps:{value:t.form.slogan},on:{input:function(e){e.target.composing||t.$set(t.form,"slogan",e.target.value)}}})]),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")])],1)],1)],1)},[],!1,null,"3fea5bbf",null));v.options.__file="index.vue";e.default=v.exports},rfXi:function(t,e,i){t.exports={default:i("0tVQ"),__esModule:!0}},rvSL:function(t,e,i){"use strict";var a=i("/V+u");i.n(a).a},u8Kd:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s});var a="https://upload.my51share.com/pic",s="https://upload.my51share.com/file"},wW48:function(t,e,i){},xGbm:function(t,e,i){"use strict";i.d(e,"a",function(){return a});i("rfXi"),i("Kw5r");function a(t){var e=new Date(t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}}}]);