(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3e22"],{"+ZCS":function(e,t,a){},SZPe:function(e,t,a){"use strict";a.r(t);var i=a("rerW"),r=a.n(i),s=a("+WsE");var o=a("u8Kd"),n={name:"Verson",data:function(){return{form:{},selectList:[],radio:"version_ios",dataList:[],fileList:[],fileUpload:o.b}},watch:{dataList:function(){this.form=this.selectData(this.radio,this.dataList)},radio:{handler:function(e,t){this.saveEditObj(t),this.form=this.selectData(this.radio,this.dataList)}}},mounted:function(){this.getViews()},methods:{getViews:function(){var e=this;(function(e){return s.a.get("training/version",e)})().then(function(t){if(t.data.code)return t.data.message&&e.$warn(t.data.message);e.dataList=t.data.data||[]})},selectData:function(e,t){var a=!0,i=!1,s=void 0;try{for(var o,n=r()(t);!(a=(o=n.next()).done);a=!0){var l=o.value;if(l.key===e)return"version_android"===e&&(this.fileList=[{name:"lanqing"+this.form.value+".apk",url:l.apkDownloadUrl}]),l}}catch(e){i=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw s}}},saveEditObj:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.radio;for(var t in this.dataList)if(this.dataList[t].key===e){this.dataList.splice(t,1,this.form);break}},handleRemove:function(e,t){if("success"!==e.status)return this.$warn("删除失败");this.$success("删除成功！！！"),this.form.apkDownloadUrl="",this.fileLst=[]},handleSuccess:function(e,t){if(e.code)return e.message&&this.$warn(e.message);this.fileList=[{name:"lanqing"+this.form.value+".apk",url:e.data}],this.form.apkDownloadUrl=e.data,this.$success("上传成功！！！")},onSubmit:function(){var e=this;this.saveEditObj(),function(e){return s.a.post("training/version",e)}({versions:this.dataList}).then(function(t){if(t.data.code)return t.data.message&&e.$warn(t.data.message);e.$success(t.data.message),e.getViews()})}}},l=(a("kkiX"),a("ZrdR")),d=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"noveForm",staticClass:"novel",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"系统"}},[a("el-radio",{attrs:{label:"version_ios"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("IOS")]),e._v(" "),a("el-radio",{attrs:{label:"version_android"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("安卓")])],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"扩展信息"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:"4"},model:{value:e.form.extendInfo,callback:function(t){e.$set(e.form,"extendInfo",t)},expression:"form.extendInfo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"App版本号"}},[a("el-input",{model:{value:e.form.versionNum,callback:function(t){e.$set(e.form,"versionNum",t)},expression:"form.versionNum"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"version_android"===e.radio,expression:"radio === 'version_android'"}],attrs:{label:"Apk下载地址"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.apkDownloadUrl,callback:function(t){e.$set(e.form,"apkDownloadUrl",t)},expression:"form.apkDownloadUrl"}}),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleSuccess,"file-list":e.fileList,action:e.fileUpload,"on-remove":e.handleRemove,name:"multipartFile"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},[],!1,null,"4857d430",null);d.options.__file="index.vue";t.default=d.exports},Yded:function(e,t,a){var i=a("621g"),r=a("bmAa");e.exports=a("c01Q").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},kkiX:function(e,t,a){"use strict";var i=a("+ZCS");a.n(i).a},"qV/K":function(e,t,a){a("Tpec"),a("Urde"),e.exports=a("Yded")},rerW:function(e,t,a){e.exports={default:a("qV/K"),__esModule:!0}},u8Kd:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r});var i="https://upload.my51share.com/pic",r="https://upload.my51share.com/file"}}]);