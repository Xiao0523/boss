(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-30a1"],{"6LVJ":function(e,t,n){},"8wxe":function(e,t,n){},DSeF:function(e,t,n){"use strict";var a={name:"Dialog_BOX",components:{},props:{isShow:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{type:String,default:"50%"}},computed:{},data:function(){return{}},methods:{cancelFn:function(){this.$emit("cancelFn")},confirmFn:function(){this.$emit("confirmFn")}},created:function(){}},i=(n("E9Le"),n("KHd+")),s=Object(i.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,visible:e.isShow,"close-on-click-modal":!1,"show-close":!1,width:e.width},on:{"update:visible":function(t){e.isShow=t}}},[e._t("del"),e._v(" "),e._t("sort"),e._v(" "),e._t("upload"),e._v(" "),e._t("transfer"),e._v(" "),e._t("default"),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelFn}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmFn}},[e._v("确 定")])],1)],2)},[],!1,null,"7a6bf8ca",null);s.options.__file="index.vue";t.a=s.exports},DmZD:function(e,t,n){},E9Le:function(e,t,n){"use strict";var a=n("8wxe");n.n(a).a},JHrQ:function(e,t,n){"use strict";var a=n("DmZD");n.n(a).a},LFr6:function(e,t,n){"use strict";var a=n("6LVJ");n.n(a).a},LTYj:function(e,t,n){},SMMm:function(e,t,n){"use strict";var a=n("Uwh3"),i={props:{currentPage:{type:Number},pageSizes:{type:Array,default:function(){return[]}},pageSize:{type:Number},total:{type:Number}},components:{},data:function(){return{isShow:!1}},watch:{total:function(e){console.log("total",e),0!=e&&(this.isShow=!0)}},methods:{handleSizeChange:function(e){Object(a.c)("currentSize",e);var t=Object(a.b)("currentSize");this.$emit("sizeChange",t)},handleCurrentChange:function(e){Object(a.c)("currentPage",e);var t=Object(a.b)("currentPage");this.$emit("currentChange",t)}},mounted:function(){},updated:function(){console.log("分页组件",this.currentPage),console.log("分页组件",this.pageSize)},created:function(){}},s=(n("JHrQ"),n("KHd+")),o=Object(s.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pageBox"},[this.isShow?t("el-pagination",{attrs:{"current-page":this.currentPage,pageSizes:[10,50,100,200,300,400,500],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}}):this._e()],1)},[],!1,null,"0db06f42",null);o.options.__file="index.vue";t.a=o.exports},Wm2O:function(e,t,n){"use strict";n.r(t);var a=n("QbLZ"),i=n.n(a),s=n("Uwh3"),o=n("L2JU"),r=n("ZOHz"),c=n("DSeF"),l=n("SMMm"),d={props:{dialogMenuVisible:{type:Boolean,default:!1},relatedId:{type:String},relatedType:{type:Number}},data:function(){return{menuList:[],menuIds:[],checkAll:!1,isIndeterminate:!0,isShow:!1}},watch:{dialogMenuVisible:function(e){var t=this;this.isShow=e,e&&(1==this.relatedType?this.$req.get("v2/videoCategory/getRelevanceVideoTagAndArticleTagPage?uuid="+this.relatedId).then(function(e){0==e.data.code&&(t.menuList=e.data.data.articleTags,t.$req.get("v2/videoCategory/getRelevanceVideoTagAndArticleTag?uuid="+t.relatedId).then(function(e){t.menuIds=e.data.data}))}):this.$req.get("v2/videoCategory/getRelevanceVideoTagAndReptileTagPage?uuid="+this.relatedId).then(function(e){0==e.data.code&&(t.menuList=e.data.data.reptileTags,t.$req.get("v2/videoCategory/getRelevanceVideoTagAndReptileTag?uuid="+t.relatedId).then(function(e){t.menuIds=e.data.data}))}))}},methods:{cancelMenuFn:function(){this.$emit("cancelMenuFn"),this.menuIds=[],this.checkAll=!1},confirmMenuFn:function(){var e=this;0==this.menuIds.length?this.$alert("您还未选择相关菜单","提交失败",{type:"error"}):1===this.relatedType?this.$req.post("v2/videoCategory/relevanceVideoTagAndArticleTag",{articleTagIds:this.menuIds,uuid:this.relatedId}).then(function(t){0==t.data.code?(e.$emit("confirmMenuFn"),e.menuIds=[],e.checkAll=!1):e.$message({type:"error",message:"关联失败"})}).catch(function(e){console.log(e)}):2===this.relatedType&&this.$req.post("v2/videoCategory/relevanceVideoTagAndReptileTag",{reptileTagIds:this.menuIds,uuid:this.relatedId}).then(function(t){0==t.data.code?(e.$emit("confirmMenuFn"),e.menuIds=[],e.checkAll=!1):e.$message({type:"error",message:"关联失败"})}).catch(function(e){console.log(e)})},handleMenuIdsChange:function(e){},handleCheckAllChange:function(e){var t=this.menuList.map(function(e){return e.id});this.menuIds=e?t:[],this.isIndeterminate=!1},close:function(){this.$emit("cancelMenuFn"),this.menuIds=[],this.checkAll=!1}},created:function(){this.$req.get("v2/videoCategory/getRelevanceVideoTagAndArticleTagPage?uuid="+this.relatedId).then(function(e){})}},u=(n("fibc"),n("KHd+")),h=Object(u.a)(d,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:1==e.relatedType?"关联文章类目":"关联爬虫类目",visible:e.isShow,width:"30%"},on:{"update:visible":function(t){e.isShow=t},close:e.close}},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),n("el-checkbox-group",{staticStyle:{display:"flex","flex-wrap":"wrap"},on:{change:e.handleMenuIdsChange},model:{value:e.menuIds,callback:function(t){e.menuIds=t},expression:"menuIds"}},e._l(e.menuList,function(t,a){return n("el-checkbox",{key:a,staticStyle:{width:"19.5%"},attrs:{label:t.id}},[e._v(e._s(1==e.relatedType?t.cname:t.categoryName))])})),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelMenuFn}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmMenuFn}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"f96ca550",null);h.options.__file="relatedMenuDialog.vue";var f=h.exports,g={name:"AppList",components:{searchNav:r.a,Dialog:c.a,pageNum:l.a,relatedMenuDialog:f},computed:{userInfo:function(){return this.$store.getters.userInfo}},data:function(){return{listData:[],delId:[],relatedId:"",getRowKeys:function(e){return e.id},startDate:"",endDate:"",visible:!1,isRelatedMenu:!1,tabHeader:{"background-color":"#fff",color:"#000","font-size":"16px","text-align":"center"},relatedType:1}},filters:{typeStatus:function(e){return 0==e?"文章":1==e?"APP":"未知"},statusFilter:function(e){return 0==e?"未启用":1==e?"启用":"未知"}},methods:i()({},Object(o.c)(["set_tagIds"]),{addFn:function(e,t){var n=this,a=t?t.name:"",i=t?t.id:"";this.$prompt("","标签名称",{confirmButtonText:a?"修改":"添加",cancelButtonText:"取消",center:!0,inputValue:a||""}).then(function(e){var t=e.value;a?n.$req.get("v2/videoCategory/updateVideoCategory?tagName="+t+"&uuid="+i).then(function(e){0==e.data.code&&(n.$message({type:"success",message:"修改成功"}),n.initData())}).catch(function(e){console.log(e)}):n.$req.get("v2/videoCategory/addVideoCategory?tagName="+t).then(function(e){0==e.data.code&&(n.$message({type:"success",message:"添加成功"}),n.initData())}).catch(function(e){console.log(e)})}).catch(function(){n.$message({type:"info",message:"取消输入"})})},reSetFn:function(){this.$refs.multipleTable.clearSelection()},searchFn:function(e){this.appList=e.data.data},confirmFn:function(){var e=this;this.$req.get("v2/videoCategory/deleteVideoCategory?uuid="+this.delId).then(function(t){0==t.data.code&&(e.visible=!1,e.$message({type:"success",message:"删除成功"}),e.initData())}).catch(function(e){console.log(e)})},handleRelate:function(e,t,n){this.relatedType=n,this.relatedId=t.id,this.isRelatedMenu=!0},handleDelete:function(e,t){this.delId=t.id,this.visible=!0},initData:function(){var e=this;this.$req.get("v2/videoCategory/getVideoCategory").then(function(t){e.listData=t.data.data}).catch(function(e){console.log(e)})},confirmMenuFn:function(){this.isRelatedMenu=!1,this.$message({type:"success",message:"关联成功"})},cancelMenuFn:function(){this.isRelatedMenu=!1}}),beforeRouteLeave:function(e,t,n){"categoryEdit"!=e.name&&(Object(s.a)("param"),Object(s.a)("currentPage")),n()},created:function(){},mounted:function(){this.initData()}},p=(n("LFr6"),Object(u.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addFn()}}},[e._v("添加标签")])],1)],1),e._v(" "),n("el-table",{ref:"multipleTable",staticClass:"table-box",staticStyle:{width:"40%","margin-top":"20px"},attrs:{data:e.listData,"empty-text":"暂无数据","max-height":"700","row-key":e.getRowKeys,"header-cell-style":e.tabHeader}},[n("el-table-column",{attrs:{prop:"name",align:"center",label:"标签",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"operation-box"},[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleRelate(t.$index,t.row,1)}}},[e._v("关联文章类目")]),e._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleRelate(t.$index,t.row,2)}}},[e._v("关联爬虫类目")]),e._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.addFn(t.$index,t.row)}}},[e._v("修改名称")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),n("Dialog",{attrs:{isShow:e.visible},on:{cancelFn:function(t){e.visible=!1},confirmFn:e.confirmFn}},[n("span",{attrs:{slot:"del"},slot:"del"},[e._v("删除操作不可恢复，确认删除？")])]),e._v(" "),n("relatedMenuDialog",{attrs:{dialogMenuVisible:e.isRelatedMenu,relatedType:e.relatedType,relatedId:e.relatedId},on:{cancelMenuFn:e.cancelMenuFn,confirmMenuFn:e.confirmMenuFn}})],1)},[],!1,null,"4d9ea994",null));p.options.__file="categoryList.vue";t.default=p.exports},ZOHz:function(e,t,n){"use strict";var a=n("DSeF"),i={name:"searchNav",props:{from:{type:String},ids:{type:Array}},components:{menusDialog:a.a},computed:{userInfo:function(){return this.$store.getters.userInfo}},data:function(){return{inputText:"",tagId:"",startDate:"",endDate:"",visible:!1,moreBtnText:"",generateAdvflag:!1,generateTagflag:!1,dialogTitle:"",advList:[],tagList:[],titles:[],transferData:[],selectTransfer:[],dropdown:[{id:0,text:"批量关联广告"},{id:1,text:"批量关联标签"}]}},watch:{},methods:{selectedtTagFn:function(e){this.tagId=e},generateData:function(){if("批量关联广告"==this.moreBtnText)for(var e=this.advList.length,t=0;t<e;t++){var n=this.advList[t];console.log(n.id),this.transferData.push({key:n.id,label:n.title})}else if("批量关联标签"==this.moreBtnText)for(var a=this.tagList.length,i=0;i<a;i++){var s=this.tagList[i];this.transferData.push({key:s.id,label:s.cName})}},transferChange:function(e,t,n){console.log(e,t,n),"right"==t&&(this.selectTransfer=n)},moreFn:function(e){console.log("文章ids",this.ids),this.moreBtnText=e,this.visible=!0,this.selectTransfer=[],"批量关联广告"!=e&&this.generateAdvflag?"批量关联标签"!=e&&this.generateTagflag||(this.dialogTitle="请选择要关联的标签",this.titles=["所有标签列表","关联标签列表"],this.transferData=[],this.generateData(),this.generateTagflag=!0):(this.dialogTitle="请选择要关联的广告",this.titles=["所有广告列表","关联广告列表"],this.transferData=[],this.generateData(),this.generateAdvflag=!0)},confirmFn:function(){"批量关联广告"==this.moreBtnText?this.relevanceAdvs():"批量关联标签"==this.moreBtnText&&this.relevanceTags()},addFn:function(){switch(this.from){case"ArticleList":this.$router.push("/ArticleManager/ArticleAdd");break;case"AppList":this.$router.push("/AppManager/AppAdd");break;case"reportList":this.$router.push("/reportsManager/reportsAdd")}},delsFn:function(){this.$emit("delsFn")},searchFn:function(){var e=this,t={},n="";switch(this.from){case"ArticleList":n="fuzzySearchHuoDong";break;case"AppList":n="selectAppByTitle";break;case"reportList":n="selectbaodaobytitle"}this.inputText&&(t.key=this.inputText),this.tagId&&(t.tagId=this.tagId),this.startDate&&(t.startDay=this.startDate),this.endDate&&(t.endDay=this.endDate),t.pageNum=1,t.pageSize=10,this.$req.post(n,t).then(function(n){e.$emit("searchFn",n,t)}).catch(function(e){console.log(e)})},relevanceAdvs:function(){var e=this;0!=this.ids.length&&0!=this.selectTransfer.length&&this.$req.post("ContactArticleAndAdvertisement",{advertisementIds:this.selectTransfer,articleIds:this.ids}).then(function(t){e.$success("关联广告成功"),e.$emit("relevanceFn"),e.visible=!1}).catch(function(e){console.log(e)})},relevanceTags:function(){var e=this;if(0!=this.ids.length&&0!=this.selectTransfer.length){var t=JSON.parse(this.userInfo).realname;this.$req.post("ContactArticleAndTag",{tagIds:this.selectTransfer,articleIds:this.ids,creator:t}).then(function(t){e.$success("关联标签成功"),e.$emit("relevanceFn"),e.visible=!1}).catch(function(e){console.log(e)})}},getAdvFn:function(){var e=this;this.$req.get("v2/shareAdv/1/999").then(function(t){e.advList=t.data.data.records}).catch(function(e){console.log(e)})},getTagFn:function(){var e=this;this.$req.get("v2/shareCategory/1/999").then(function(t){e.tagList=t.data.data.records}).catch(function(e){console.log(e)})}},created:function(){switch(this.from){case"ArticleList":this.text="文章标题",this.placeholder="请输入文章标题",this.btnText="添加文章";break;case"AppList":this.text="应用名",this.placeholder="请输入应用名",this.btnText="添加应用";break;case"reportList":this.text="报道标题",this.placeholder="请输入报道标题",this.btnText="添加报道"}this.getAdvFn(),this.getTagFn()}},s=(n("aCdZ"),n("KHd+")),o=Object(s.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"input-box"},[n("span",[e._v(e._s(e.text))]),e._v(" "),n("el-input",{staticClass:"input",attrs:{placeholder:e.placeholder,clearable:""},model:{value:e.inputText,callback:function(t){e.inputText=t},expression:"inputText"}})],1)]),e._v(" "),"ArticleList"==e.from?n("el-col",{attrs:{span:5}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择标签"},model:{value:e.tagId,callback:function(t){e.tagId=t},expression:"tagId"}},e._l(e.tagList,function(e){return n("el-option",{key:e.id,attrs:{label:e.cName,value:e.id}})}))],1):e._e(),e._v(" "),"ArticleList"!==e.from?n("el-col",{attrs:{span:9}},[n("div",{staticClass:"date-box"},[n("span",[e._v("日期")]),e._v(" "),n("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" "),n("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)]):e._e(),e._v(" "),n("el-col",{attrs:{span:6}},[n("div",[n("el-button",{attrs:{type:"success"},on:{click:e.searchFn}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addFn}},[e._v(e._s(e.btnText))]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.delsFn}},[e._v("批量删除")])],1)])],1),e._v(" "),n("el-dropdown",[n("el-button",{attrs:{type:"primary"}},[e._v("\r\n      更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dropdown,function(t){return n("el-dropdown-item",{key:t.id,nativeOn:{click:function(n){e.moreFn(t.text)}}},[e._v(e._s(t.text))])}))],1),e._v(" "),n("menusDialog",{attrs:{isShow:e.visible,title:e.dialogTitle},on:{cancelFn:function(t){e.visible=!1},confirmFn:e.confirmFn}},[n("el-transfer",{attrs:{data:e.transferData,titles:e.titles,"button-texts":["移除","添加"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"}},on:{change:e.transferChange},model:{value:e.selectTransfer,callback:function(t){e.selectTransfer=t},expression:"selectTransfer"}})],1)],1)},[],!1,null,"1db06799",null);o.options.__file="index.vue";t.a=o.exports},aCdZ:function(e,t,n){"use strict";var a=n("LTYj");n.n(a).a},fibc:function(e,t,n){"use strict";var a=n("s9tB");n.n(a).a},s9tB:function(e,t,n){}}]);