(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-49c7"],{"0tVQ":function(e,t,a){a("FlQf"),a("VJsP"),e.exports=a("WEpk").Array.from},"7Csv":function(e,t,a){"use strict";a.d(t,"e",function(){return i}),a.d(t,"a",function(){return n}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return l});var r=a("+WsE");function i(e){var t=e.status,a=void 0===t?0:t,i=e.pageNum,n=void 0===i?1:i,o=e.pageSize,s=void 0===o?10:o;return r.a.get("training/trainingTalentShow/list/"+a+"/"+n+"/"+s)}function n(e){return r.a.post("training/trainingTalentShow/add",e)}function o(e){var t=e.id;return r.a.get("training/trainingTalentShow/detail/"+t)}function s(e){return r.a.post("training/trainingTalentShow/edit",e)}function l(e){var t=e.id;return r.a.del("training/trainingTalentShow/delete/"+t)}},IP1Z:function(e,t,a){"use strict";var r=a("2faE"),i=a("rr1i");e.exports=function(e,t,a){t in e?r.f(e,t,i(0,a)):e[t]=a}},LAnH:function(e,t,a){"use strict";var r=a("N++g");a.n(r).a},"N++g":function(e,t,a){},VJsP:function(e,t,a){"use strict";var r=a("2GTP"),i=a("Y7ZC"),n=a("JB68"),o=a("sNwI"),s=a("NwJ3"),l=a("tEej"),u=a("IP1Z"),c=a("fNZA");i(i.S+i.F*!a("TuGD")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,i,d,m=n(e),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,h=0,b=c(m);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(a=new f(t=l(m.length));t>h;h++)u(a,h,g?v(m[h],h):m[h]);else for(d=b.call(m),a=new f;!(i=d.next()).done;h++)u(a,h,g?o(d,v,[i.value,h],!0):i.value);return a.length=h,a}})},ksFn:function(e,t,a){"use strict";a.r(t);var r=a("7Csv"),i=a("xGbm"),n=a("u8Kd"),o={name:"ShowEdit",data:function(){return{UploadUrl:n.a,time:"",visible:!1,form:{name:"",picCover:"",picIntroduce:"",rule:"",slogan:"",beginTime:"",endTime:"",logs:[{type:"6",picUrl:""}],prizes:[{type:"5",picUrl:""}]},isAdd:!0}},watch:{time:function(){var e=this.time;this.form.beginTime=Object(i.a)(e[0].getTime()),this.form.endTime=Object(i.a)(e[1].getTime())}},created:function(){var e=this,t=this.$route.query.id;if(t){this.isAdd=!1;var a={id:t};Object(r.d)(a).then(function(t){if(t.data.code)return t.data.message&&e.$wran(t.data.message);if(t.data.data){var a=t.data.data;e.form=a,e.time=[new Date(a.beginTime),new Date(a.endTime)]}})}},methods:{handleAvatarSuccess:function(e,t){this.form.picCover=e.data},handleAvatarLogsSuccess:function(e,t){this.form.logs[0].picUrl=e.data},handleAvatarPrizesSuccess:function(e,t){this.form.prizes[0].picUrl=e.data},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},onSubmit:function(){var e=this,t=this.form,a=this.isAdd?r.a:r.c;this.isAdd||(t.id=this.$route.query.id),a(t).then(function(t){if(t.data.code)return t.data.message&&e.$wran(t.data.message);t.data.data&&e.$router.push({name:"Show"})})}}},s=(a("LAnH"),a("KHd+")),l=Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"noveForm",staticClass:"novel",attrs:{model:e.form,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"才艺秀名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["12:00:00","08:00:00"]},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"才艺秀封面"}},[a("el-upload",{staticClass:"uploader",attrs:{action:e.UploadUrl,name:"multipartFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.picCover?a("img",{staticClass:"avatar",attrs:{src:e.form.picCover}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),e._v(" "),a("input",{attrs:{type:"hidden"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"赞助商图标"}},[a("el-upload",{staticClass:"uploader",attrs:{action:e.UploadUrl,name:"multipartFile","show-file-list":!1,"on-success":e.handleAvatarLogsSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.logs[0].picUrl?a("img",{staticClass:"avatar",attrs:{src:e.form.logs[0].picUrl}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),e._v(" "),a("input",{attrs:{type:"hidden"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"才艺秀奖品"}},[a("el-upload",{staticClass:"uploader",attrs:{action:e.UploadUrl,name:"multipartFile","show-file-list":!1,"on-success":e.handleAvatarPrizesSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.prizes[0].picUrl?a("img",{staticClass:"avatar",attrs:{src:e.form.prizes[0].picUrl}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),e._v(" "),a("input",{attrs:{type:"hidden"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"才艺秀介绍",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.picIntroduce,expression:"form.picIntroduce"}],domProps:{value:e.form.picIntroduce},on:{input:function(t){t.target.composing||e.$set(e.form,"picIntroduce",t.target.value)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"才艺秀规则",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.rule,expression:"form.rule"}],domProps:{value:e.form.rule},on:{input:function(t){t.target.composing||e.$set(e.form,"rule",t.target.value)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"才艺秀标语",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.slogan,expression:"form.slogan"}],domProps:{value:e.form.slogan},on:{input:function(t){t.target.composing||e.$set(e.form,"slogan",t.target.value)}}})]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},[],!1,null,"97cc628a",null);l.options.__file="index.vue";t.default=l.exports},rfXi:function(e,t,a){e.exports={default:a("0tVQ"),__esModule:!0}},u8Kd:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r="https://www.my51share.com/boss/upload"},xGbm:function(e,t,a){"use strict";a.d(t,"a",function(){return r});a("rfXi"),a("Kw5r");function r(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}}}]);