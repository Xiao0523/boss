(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4338"],{"+DGk":function(t,e,a){},"0tVQ":function(t,e,a){a("FlQf"),a("VJsP"),t.exports=a("WEpk").Array.from},"7Csv":function(t,e,a){"use strict";a.d(e,"e",function(){return r}),a.d(e,"a",function(){return o}),a.d(e,"d",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return l});var i=a("+WsE");function r(t){var e=t.status,a=void 0===e?0:e,r=t.pageNum,o=void 0===r?1:r,n=t.pageSize,s=void 0===n?10:n;return i.a.get("training/trainingTalentShow/list/"+a+"/"+o+"/"+s)}function o(t){return i.a.post("training/trainingTalentShow/add",t)}function n(t){var e=t.id;return i.a.get("training/trainingTalentShow/detail/"+e)}function s(t){return i.a.post("training/trainingTalentShow/edit",t)}function l(t){var e=t.id;return i.a.del("training/trainingTalentShow/delete/"+e)}},IP1Z:function(t,e,a){"use strict";var i=a("2faE"),r=a("rr1i");t.exports=function(t,e,a){e in t?i.f(t,e,r(0,a)):t[e]=a}},QmgT:function(t,e,a){"use strict";var i=a("+DGk");a.n(i).a},VJsP:function(t,e,a){"use strict";var i=a("2GTP"),r=a("Y7ZC"),o=a("JB68"),n=a("sNwI"),s=a("NwJ3"),l=a("tEej"),c=a("IP1Z"),u=a("fNZA");r(r.S+r.F*!a("TuGD")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,r,d,m=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,h=0,b=u(m);if(v&&(g=i(g,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(a=new f(e=l(m.length));e>h;h++)c(a,h,v?g(m[h],h):m[h]);else for(d=b.call(m),a=new f;!(r=d.next()).done;h++)c(a,h,v?n(d,g,[r.value,h],!0):r.value);return a.length=h,a}})},XUaF:function(t,e,a){"use strict";var i=a("z2PT");a.n(i).a},ksFn:function(t,e,a){"use strict";a.r(e);var i=a("7Csv"),r=a("xGbm"),o=a("u8Kd"),n={props:{list:{type:Object,default:function(){return{}}},indexs:{type:Number,default:function(){return 0}}},data:function(){return{UploadUrl:o.a,listPic:{}}},watch:{list:function(){this.listPic=this.list}},created:function(){this.listPic=this.list},methods:{handleAvatarLogsSuccess:function(t,e){this.listPic.picUrl=t.data,this.backLog()},backLog:function(){this.$emit("handelLogsClick",this.listPic,this.indexs)},del:function(){this.$emit("handelLogsDel",this.indexs)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传图片只能是 JPG 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),e&&a}}},s=(a("XUaF"),a("KHd+")),l=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarLogsSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.list.picUrl?a("img",{staticClass:"avatar",attrs:{src:t.list.picUrl}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),a("el-input",{staticClass:"inputs",attrs:{type:"text"},on:{blur:t.backLog},model:{value:t.list.logoName,callback:function(e){t.$set(t.list,"logoName",e)},expression:"list.logoName"}}),t._v(" "),a("div",{staticClass:"close",on:{click:t.del}},[a("i",{staticClass:"el-icon-close"})]),t._v(" "),a("input",{attrs:{type:"hidden"}})],1)},[],!1,null,null,null);l.options.__file="index.vue";var c={name:"ShowEdit",components:{logosImg:l.exports},data:function(){return{UploadUrl:o.a,time:"",visible:!1,form:{name:"",picCover:"",picIntroduce:"",rule:"",slogan:"",beginTime:"",endTime:"",logs:[{type:"6",picUrl:"",logoName:""}],prizes:[{type:"5",picUrl:""}]},isAdd:!0}},watch:{time:function(){var t=this.time;this.form.beginTime=Object(r.a)(t[0].getTime()),this.form.endTime=Object(r.a)(t[1].getTime())}},created:function(){var t=this,e=this.$route.query.id;if(e){this.isAdd=!1;var a={id:e};Object(i.d)(a).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);if(e.data.data){var a=e.data.data;t.form=a,t.time=[new Date(a.beginTime),new Date(a.endTime)]}})}},methods:{delCb:function(t){this.form.logs.splice(t,1),console.log(this.form.logs)},logsCb:function(t,e){this.form.logs[e]=t},addList:function(){this.form.logs.push({type:"6",picUrl:"",logoName:""})},handleAvatarSuccess:function(t,e){this.form.picCover=t.data},handleAvatarPrizesSuccess:function(t,e){this.form.prizes[0].picUrl=t.data},handleAvatarLogsSuccess:function(t,e){this.form.logs[0].picUrl=t.data},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传图片只能是 JPG 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),e&&a},onSubmit:function(){var t=this,e=this.form,a=this.isAdd?i.a:i.c;this.isAdd||(e.id=this.$route.query.id),a(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);e.data.data&&t.$router.push({name:"Show"})})}}},u=(a("QmgT"),Object(s.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"noveForm",staticClass:"novel",attrs:{model:t.form,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"才艺秀名称",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动时间",prop:"time"}},[a("el-date-picker",{attrs:{"default-time":["12:00:00","08:00:00"],type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"才艺秀封面"}},[a("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.form.picCover?a("img",{staticClass:"avatar",attrs:{src:t.form.picCover}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),a("input",{attrs:{type:"hidden"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"赞助商图标"}},[a("div",{staticClass:"logosFlex"},[t._l(t.form.logs.length,function(e,i){return a("logosImg",{key:i,attrs:{list:t.form.logs[e-1],indexs:e-1},on:{handelLogsClick:t.logsCb,handelLogsDel:t.delCb}})}),t._v(" "),a("div",{staticClass:"add",on:{click:t.addList}},[a("i",{staticClass:"el-icon-plus"})])],2)]),t._v(" "),a("el-form-item",{attrs:{label:"才艺秀奖品"}},[a("el-upload",{staticClass:"uploader",attrs:{action:t.UploadUrl,"show-file-list":!1,"on-success":t.handleAvatarPrizesSuccess,"before-upload":t.beforeAvatarUpload,name:"multipartFile"}},[t.form.prizes[0].picUrl?a("img",{staticClass:"avatar",attrs:{src:t.form.prizes[0].picUrl}}):a("i",{staticClass:"el-icon-picture uploader-icon"})]),t._v(" "),a("input",{attrs:{type:"hidden"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"才艺秀介绍",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.picIntroduce,expression:"form.picIntroduce"}],domProps:{value:t.form.picIntroduce},on:{input:function(e){e.target.composing||t.$set(t.form,"picIntroduce",e.target.value)}}})]),t._v(" "),a("el-form-item",{attrs:{label:"才艺秀规则",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.rule,expression:"form.rule"}],domProps:{value:t.form.rule},on:{input:function(e){e.target.composing||t.$set(t.form,"rule",e.target.value)}}})]),t._v(" "),a("el-form-item",{attrs:{label:"才艺秀标语",prop:"name"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.slogan,expression:"form.slogan"}],domProps:{value:t.form.slogan},on:{input:function(e){e.target.composing||t.$set(t.form,"slogan",e.target.value)}}})]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")])],1)],1)],1)},[],!1,null,"45e2ecce",null));u.options.__file="index.vue";e.default=u.exports},rfXi:function(t,e,a){t.exports={default:a("0tVQ"),__esModule:!0}},u8Kd:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i="https://www.my51share.com/boss/upload"},xGbm:function(t,e,a){"use strict";a.d(e,"a",function(){return i});a("rfXi"),a("Kw5r");function i(t){var e=new Date(t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}},z2PT:function(t,e,a){}}]);