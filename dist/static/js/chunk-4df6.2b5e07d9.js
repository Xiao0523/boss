(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4df6"],{"7Csv":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return l});var a=n("+WsE");function i(t){var e=t.status,n=void 0===e?0:e,i=t.pageNum,r=void 0===i?1:i,o=t.pageSize,s=void 0===o?10:o;return a.a.get("training/trainingTalentShow/list/"+n+"/"+r+"/"+s)}function r(t){return a.a.post("training/trainingTalentShow/add",t)}function o(t){var e=t.id;return a.a.get("training/trainingTalentShow/detail/"+e)}function s(t){return a.a.post("training/trainingTalentShow/edit",t)}function l(t){var e=t.id;return a.a.del("training/trainingTalentShow/delete/"+e)}},E3yg:function(t,e,n){"use strict";var a=n("Q80t");n.n(a).a},JHrQ:function(t,e,n){"use strict";var a=n("Q61b");n.n(a).a},NI38:function(t,e,n){"use strict";n.r(e);var a=n("7Csv"),i={name:"Competition",components:{pageNum:n("SMMm").a},data:function(){return{dialogVisible:!1,list:[],options:[{value:0,label:"征集中"},{value:1,label:"投票中"},{value:2,label:"已结束"},{value:3,label:"已下架"}],status:0,totalNum:null,pageNo:1,pageSize:10,tabHeader:{"background-color":"#F4F4F4",color:"#666666","border-top":"1px solid #BBBBBB","border-bottom":"1px solid #BBBBBB","font-size":"16px","text-align":"center"}}},mounted:function(){this.fetchList()},methods:{onDel:function(t){var e=this,n={id:t};Object(a.b)(n).then(function(t){if(t.data.code)return t.data.message&&e.$wran(t.data.message);e.fetchList()})},fetchList:function(){var t=this,e={status:this.status,pageNum:this.pageNo,pageSize:this.pageSize||10};Object(a.e)(e).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);if(e.data.data){var n=e.data.data;t.totalNum=n.total;var a=n.records;t.list=a&&a.length?a:[]}})},sizeChangeFn:function(t){this.pageSize=t,this.fetchList()},currentPageChange:function(t){this.pageNo=t,this.fetchList()},handleClose:function(){}}},r=(n("E3yg"),n("ZrdR")),o=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:{name:"ShowEdit"}}},[n("el-button",{attrs:{type:"info"}},[t._v("发布才艺秀比赛")])],1),t._v(" "),n("el-select",{on:{change:t.fetchList},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),t._v(" "),n("el-table",{staticClass:"table-box",attrs:{data:t.list,"header-cell-style":t.tabHeader,border:""}},[n("el-table-column",{attrs:{align:"center",prop:"id",label:"才艺秀编号"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"participants",label:"参与人数"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"封面图"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",{staticClass:"coverImg"},[n("img",{attrs:{src:t.row.picCover,alt:""}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"reward",label:"奖励"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"votes",label:"投票数"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"征集时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.solicitationBeginTime)+" - "+t._s(e.row.solicitationEndTime)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"投票时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.voteBeginTime)+" - "+t._s(e.row.voteEndTime)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:{name:"ShowEdit",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("编辑")])],1),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){t.onDel(e.row.id)}}},[t._v("关闭")]),t._v(" "),n("router-link",{attrs:{to:{name:"CompositionList",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("作品列表")])],1),t._v(" "),n("router-link",{attrs:{to:{name:"RewardList",query:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini"}},[t._v("奖励列表")])],1)]}}])})],1),t._v(" "),n("div",{staticClass:"pageNumBox"},[n("pageNum",{attrs:{"current-page":t.pageNo,"page-size":t.pageSize,total:t.totalNum},on:{sizeChange:t.sizeChangeFn,currentChange:t.currentPageChange}})],1)],1)},[],!1,null,"4dadcce5",null);o.options.__file="index.vue";e.default=o.exports},Q61b:function(t,e,n){},Q80t:function(t,e,n){},SMMm:function(t,e,n){"use strict";var a=n("Uwh3"),i={props:{currentPage:{type:Number},pageSizes:{type:Array,default:function(){return[]}},pageSize:{type:Number},total:{type:Number}},components:{},data:function(){return{isShow:!1}},watch:{total:function(t){console.log("total",t),0!=t&&(this.isShow=!0)}},methods:{handleSizeChange:function(t){Object(a.c)("currentSize",t);var e=Object(a.b)("currentSize");this.$emit("sizeChange",e)},handleCurrentChange:function(t){Object(a.c)("currentPage",t);var e=Object(a.b)("currentPage");this.$emit("currentChange",e)}},mounted:function(){},updated:function(){console.log("分页组件",this.currentPage),console.log("分页组件",this.pageSize)},created:function(){}},r=(n("JHrQ"),n("ZrdR")),o=Object(r.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pageBox"},[this.isShow?e("el-pagination",{attrs:{"current-page":this.currentPage,pageSizes:[10,50,100,200,300,400,500],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}}):this._e()],1)},[],!1,null,"0db06f42",null);o.options.__file="index.vue";e.a=o.exports}}]);