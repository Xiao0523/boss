(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d02"],{"7jfb":function(t,e,a){},RdtX:function(t,e,a){},SMMm:function(t,e,a){"use strict";var n=a("Uwh3"),i={props:{currentPage:{type:Number},pageSizes:{type:Array,default:function(){return[]}},pageSize:{type:Number},total:{type:Number}},components:{},data:function(){return{isShow:!1}},watch:{total:function(t){console.log("total",t),0!=t&&(this.isShow=!0)}},methods:{handleSizeChange:function(t){Object(n.c)("currentSize",t);var e=Object(n.b)("currentSize");this.$emit("sizeChange",e)},handleCurrentChange:function(t){Object(n.c)("currentPage",t);var e=Object(n.b)("currentPage");this.$emit("currentChange",e)}},mounted:function(){},updated:function(){console.log("分页组件",this.currentPage),console.log("分页组件",this.pageSize)},created:function(){}},s=(a("jTOu"),a("KHd+")),o=Object(s.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pageBox"},[this.isShow?e("el-pagination",{attrs:{"current-page":this.currentPage,pageSizes:[5,10,50,100,200,300,400,500],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}}):this._e()],1)},[],!1,null,"63f271cb",null);o.options.__file="index.vue";e.a=o.exports},XVVX:function(t,e,a){"use strict";a.r(e);var n=a("evNE"),i={name:"Articles",components:{pageNum:a("SMMm").a},data:function(){return{articleList:[],keyWord:"",isShow:!1,statusList:[{id:"0",name:"显示"},{id:"1",name:"不显示"},{id:"2",name:"全部"}],value:"",categoryList:[],timeRange:"",beginTime:"",endTime:"",category:"",pageNo:1,pageSize:5,totalNum:null}},created:function(){this.fetchList(),this.getCategoryList()},methods:{sizeChangeFn:function(t){this.pageSize=t,this.fetchList()},currentPageChange:function(t){this.pageNo=t,this.fetchList()},fetchList:function(){var t=this,e="2"===this.value?"":this.value,a={beginTime:this.beginTime,categoryId:this.category,endTime:this.endTime,keyword:this.keyWord,pageNum:this.pageNo,pageSize:this.pageSize,status:e};Object(n.f)(a).then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);t.totalNum=e.data.data.total,t.articleList=e.data.data.records})},search:function(){this.pageNo=1,this.fetchList()},change:function(){console.log(this.value),this.pageNo=1,this.fetchList()},dateChangeBeginTime:function(t){t&&(this.beginTime=t,this.fetchList())},dateChangeEndTime:function(t){t&&(this.endTime=t,this.fetchList())},handleEdit:function(t,e){console.log(t,e),this.$router.push({path:"/waimao/toViewArticle",query:{row:e}})},handleDelete:function(t,e){var a=this,i={uuid:e.uuid};this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.c)(i).then(function(t){if(t.data.code)return t.data.message&&a.$wran(t.data.message);a.$success(t.data.message),a.fetchList()})}).catch(function(t){console.log(t)})},addArticle:function(){this.$router.push({path:"/waimao/newArticle"})},getCategoryList:function(){var t=this;Object(n.g)().then(function(e){if(e.data.code)return e.data.message&&t.$wran(e.data.message);t.categoryList=e.data.data})}}},s=(a("r9YT"),a("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-form",{attrs:{inline:!0}},[a("span",[t._v("模糊查找：")]),t._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"标题/发布人",clearable:""},model:{value:t.keyWord,callback:function(e){t.keyWord="string"==typeof e?e.trim():e},expression:"keyWord"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1),t._v(" "),a("el-row",[a("el-form",{attrs:{inline:!0}},[a("span",[t._v("文章状态：")]),t._v(" "),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择文章状态"},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.statusList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("span",[t._v("文章类目：")]),t._v(" "),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择文章类目"},on:{change:t.change},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categoryList,function(t){return a("el-option",{key:t.categoryId,attrs:{label:t.categoryName,value:t.categoryId}})}))],1),t._v(" "),a("span",[t._v("添加时间：")]),t._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:t.dateChangeBeginTime},model:{value:t.beginTime,callback:function(e){t.beginTime=e},expression:"beginTime"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:t.dateChangeEndTime},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.addArticle}},[t._v("添加文章")])],1)],1),t._v(" "),a("el-table",{staticClass:"table-box",attrs:{data:t.articleList,border:""}},[a("el-table-column",{attrs:{span:20},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",{staticClass:"ax_default _标题"},[a("div",{}),t._v(" "),a("div",{staticClass:"text"},[a("p",[a("span",[t._v(t._s(e.row.title))])])])]),t._v(" "),a("div",{staticClass:"ax_default _文本段落"},[a("div",{}),t._v(" "),a("div",{staticClass:"text"},[a("p",[a("span",{staticStyle:{"font-family":"'PingFang-SC-Regular', 'PingFang SC'"}},[t._v(t._s(e.row.simpleContext))])])])]),t._v(" "),a("div",{staticClass:"_其他"},[a("div",{staticClass:"text"},[a("p",[a("span",{staticClass:"_其他",staticStyle:{width:"300px"}},[t._v("添加时间："+t._s(t._f("formatDate")(e.row.createTime)))]),t._v(" "),a("span",[t._v("         ")]),t._v(" "),a("span",{staticClass:"center",staticStyle:{width:"400px"}},[t._v("\n                  文章类目：\n                  "+t._s(e.row.categoryName)+"\n                ")]),t._v(" "),a("span",[t._v("         ")]),t._v(" "),a("span",{staticClass:"center",staticStyle:{width:"300px"}},[t._v("发布人："+t._s(e.row.publisher))]),t._v(" "),a("span",[t._v("         ")]),t._v(" "),a("span",{staticClass:"center"},[t._v("文章状态：")]),t._v(" "),a("span",{class:e.row.status?"success":"danger"},[t._v(t._s("0"===e.row.status?"显示":"不显示"))])])])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("查看详情")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pageNumBox"},[a("pageNum",{attrs:{currentPage:t.pageNo,pageSize:t.pageSize,total:t.totalNum},on:{sizeChange:t.sizeChangeFn,currentChange:t.currentPageChange}})],1)],1)},[],!1,null,"2cb9140e",null);o.options.__file="index.vue";e.default=o.exports},evNE:function(t,e,a){"use strict";a.d(e,"i",function(){return i}),a.d(e,"e",function(){return s}),a.d(e,"h",function(){return o}),a.d(e,"d",function(){return r}),a.d(e,"b",function(){return c}),a.d(e,"f",function(){return u}),a.d(e,"g",function(){return l}),a.d(e,"a",function(){return d}),a.d(e,"c",function(){return h});var n=a("+WsE");function i(t){return n.a.post("waimaoshuishou/consultation",t)}function s(t,e){return n.a.patch("waimaoshuishou/consultation/"+t+"/"+e)}function o(t){return n.a.post("waimaoshuishou/category_list",t)}function r(t){return n.a.post("waimaoshuishou/category",t)}function c(t,e){return n.a.patch("waimaoshuishou/category/"+t+"/"+e)}function u(t){return n.a.post("waimaoshuishou/article_list",t)}function l(){return n.a.get("waimaoshuishou/category")}function d(t){return n.a.post("waimaoshuishou/article",t)}function h(t){var e=t.uuid;return n.a.del("waimaoshuishou/article/"+e)}},jTOu:function(t,e,a){"use strict";var n=a("7jfb");a.n(n).a},r9YT:function(t,e,a){"use strict";var n=a("RdtX");a.n(n).a}}]);