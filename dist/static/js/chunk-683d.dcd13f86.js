(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-683d"],{"/SJu":function(t,e,n){"use strict";var o=n("E0y5");n.n(o).a},15:function(t,e){},16:function(t,e){},17:function(t,e){},E0y5:function(t,e,n){},Yfch:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("XJYT");n("Iab2"),n("EUZL");function a(t){if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(t))return console.log(t),Object(o.Message)({message:"手机号格式错误",type:"error"})}},prK7:function(t,e,n){"use strict";n.r(e);var o=n("wE6c"),a=n("Yfch"),i={name:"",components:{},props:{row:{type:Object,default:function(){return{}}}},computed:{},data:function(){return{isShow:!0,id:"",state:"",name:"",phone:"",code:"",verificationCode:"",codeText:"获取验证码",isDisabled:!1,timer:null}},watch:{row:function(t){console.log(t),this.id=t.hdId,console.log(this.hdId),this.state=t.state,console.log(this.state)}},methods:{countDownFn:function(){var t=this;this.codeText=60,this.isDisabled=!0,clearInterval(this.timer),this.timer=setInterval(function(){t.codeText>0&&t.codeText<=60?t.codeText--:(clearInterval(t.timer),t.codeText="重新获取验证码",t.isDisabled=!1)},1e3)},getCodeFn:function(){var t=this;this.phone&&(this.countDownFn(),this.$req.get("getVerificationCode",{phone:this.phone,state:"2"}).then(function(e){t.verificationCode=e.data.data.verificationCode}).catch(function(t){console.log(t)}))},addAdFn:function(){var t=this;this.name&&this.phone&&this.code===this.verificationCode&&this.$req.post("addAdsFromBack",{createby:this.id,name:this.name,state:this.state,phone:this.phone}).then(function(e){t.$success("提交成功")}).catch(function(t){console.log(t)})},checkMobileFn:function(){Object(a.a)(this.phone)},closeFn:function(){this.isShow=!1}},mounted:function(){},created:function(){}},s=(n("q83e"),n("KHd+")),c=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"btnBox"},[n("p",{staticClass:"close",on:{click:t.closeFn}},[t._v("x")]),t._v(" "),n("p",{staticClass:"row"},[n("span",[t._v("您的姓名（已加密，请您放心填写）")]),t._v(" "),n("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("p",{staticClass:"row"},[n("span",[t._v("您的电话（已加密，请您放心填写）")]),t._v(" "),n("el-input",{attrs:{placeholder:"请输入电话"},on:{blur:function(e){return e.preventDefault(),t.checkMobileFn(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),n("p",{staticClass:"row"},[n("span",[t._v("手机验证码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"codeBox",domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("el-button",{staticClass:"btn",attrs:{type:"text",disabled:t.isDisabled},on:{click:t.getCodeFn}},[t._v(t._s(t.codeText)+"(s)")])],1),t._v(" "),n("p",{staticClass:"row"},[n("el-button",{attrs:{type:"primary",round:""},on:{click:t.addAdFn}},[t._v("提交")])],1)]):t._e()},[],!1,null,"18d2fba4",null);c.options.__file="index.vue";var r=c.exports,u=(n("Uwh3"),{name:"ArticleDetails",components:{articleTemplet:o.a,cityPartnerAd:r},computed:{userInfo:function(){return this.$store.getters.userInfo}},data:function(){return{formData:{},row:{},query:{},fenlei:""}},methods:{upDateFrom:function(t){this.formData=t;JSON.parse(this.userInfo).realname;this.editArticleFn()},editArticleFn:function(){var t=this;this.$req.post("updateHuoDong",this.formData).then(function(e){console.log(e),t.$success("更新成功"),t.$router.back()}).catch(function(t){console.log(t)})},initData:function(){var t=this;this.$req.get("huoDongDetail",{id:this.query.id}).then(function(e){t.formData=e.data.data.article;var n=e.data.data.advertisings,o=e.data.data.categories,a=e.data.data.covermaps;t.formData.advIds=n.map(function(t){return t.id}),t.formData.tagids=o.map(function(t){return t.id}),t.formData.covermaps=a,t.row=e.data.data.article}).catch(function(t){console.log(t)})}},created:function(){this.query=this.$route.query,this.fenlei=this.query.fenlei,this.initData()}}),d=(n("/SJu"),Object(s.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("articleTemplet",{attrs:{fromMenu:t.formData,advIdArr:t.formData.advIds,tagidArr:t.formData.tagids,source:"edit"},on:{upDateFrom:t.upDateFrom}}),t._v(" "),"城市合伙人"==t.fenlei&&1==t.row.remind?n("cityPartnerAd",{attrs:{row:t.row}}):t._e()],1)},[],!1,null,"7b106d39",null));d.options.__file="index.vue";e.default=d.exports},q83e:function(t,e,n){"use strict";var o=n("viGZ");n.n(o).a},viGZ:function(t,e,n){}}]);